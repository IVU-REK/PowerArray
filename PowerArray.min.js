Array.prototype.getPropertyFlat||(Array.prototype.getPropertyFlat=function(r,e,t,n){var o=this,a=[],i=o.length;if(e===!0)for(var u=0;i>u;u++)(t||-1===a.indexOf(o[u][r]))&&(n===!0||void 0!==o[u][r])&&a.push(o[u][r]);else for(;i--;)(t||-1===a.indexOf(o[i][r]))&&(n===!0||void 0!==o[i][r])&&a.push(o[i][r]);return a}),Array.prototype.GetByProperty||(Array.prototype.GetByProperty=function(r){var e,t,n=this,o=[],a=arguments.length,i=n.length;for(t=0;i>t;t++){var u=n[t];for(e=1;a>e;e++){var s=arguments[e],l="()"===s.substring(s.length-2),p=l?s.substr(0,s.length-2):s;u=l?u[p]():u[s],e+1===a&&u===r&&o.push(n[t])}}return o}),Array.prototype.getIndexByProperty||(Array.prototype.getIndexByProperty=function(r){var e,t,n=this,o=arguments.length,a=n.length;for(t=0;a>t;t++){var i=n[t];for(e=1;o>e;e++){var u=arguments[e],s="()"===u.substring(u.length-2),l=s?u.substr(0,u.length-2):u;if(i=s?i[l]():i[u],e+1===o&&i==r)return t}}return-1}),Array.prototype.GetByProperty||(Array.prototype.GetByProperty=function(r){var e,t,n=this,o=[],a=arguments.length,i=n.length;for(t=0;i>t;t++){var u=n[t];for(e=1;a>e;e++){var s=arguments[e],l="()"===s.substring(s.length-2),p=l?s.substr(0,s.length-2):s;u=l?u[p]():u[s],e+1===a&&u===r&&o.push(n[t])}}return o}),Array.prototype.RunEach||(Array.prototype.RunEach=function(r,e){for(var t=this.length;t--;)r(this[t]);return e&&e(),this}),window.pa=window.pa||{paEachParalellsHelper:{CheckParalellTaskStates:function(r){var e=window.pa.paEachParalellsHelper.currentParalellIds[r];return e.CompletedTasks===e.TotalProcesses?!0:(console.info("not yet"),!1)},currentParalellIds:{},actionKeys:{Runeach:"RunEach",TaskState:"TaskState"},eventKeys:{RuneachDone:"RuneachDone",TaskState:"TaskStateResponse"}},paWhereHelper:{FillConditions:function(r,e){for(var t,n=e.length;n--;)if(t=e[n],"function"!=typeof t.condition&&(t.condition=pa.EqualTo3(t.condition)),!t.condition(r[t.column]))return!1;return!0},ProcessConditionObject:function(r,e,t){var n,o,a,i,u,s=window.pa.paWhereHelper.FillConditions,l=this.length,p=[];for(t||(r=[r]),n=0,l=r.length;l>n;n++){var f=r[n],c=[];for(var h in f)"realConditions"!==h&&f.hasOwnProperty(h)&&c.push({column:h,condition:f[h]});f.realConditions=c}if(l=this.length,e)for(n=0;l>n;n++){for(a=this[n],o=0,i=r.length;i>o&&!(u=s(a,r[o].realConditions));o++);u&&p.push(a)}else for(;l--;)for(a=this[l],o=0,i=r.length;i>o;o++)if(u=s(a,r[o].realConditions)){p.push(a);break}return p},equals:function(r,e,t,n){function o(r,e){var i,u,s,l,p;if((i=toString.call(r))!==toString.call(e))return!1;switch(i){default:return r.valueOf()===e.valueOf();case"[object Number]":return r=+r,e=+e,r?r===e:r===r?1/r===1/e:e!==e;case"[object RegExp]":return r.source==e.source&&r.global==e.global&&r.ignoreCase==e.ignoreCase&&r.multiline==e.multiline&&r.lastIndex==e.lastIndex;case"[object Function]":return!1;case"[object Array]":if(n&&null!==(l=a(r,e)))return l;if((u=r.length)!=e.length)return!1;for(;u--;)if(!((l=r[u])===(p=e[u])&&0!==l||o(l,p)))return!1;return!0;case"[object Object]":if(n&&null!==(l=a(r,e)))return l;if(u=0,t){var f=[];for(s in r)if(r.hasOwnProperty(s)){if(f.push(s),(l=r[s])===(p=e[s])&&0!==l||o(l,p))continue;return!1}for(s in e)if(e.hasOwnProperty(s)&&f[u++]!=s)return!1}else{for(s in r)if(r.hasOwnProperty(s)){if(++u,(l=r[s])===(p=e[s])&&0!==l||o(l,p))continue;return!1}for(s in e)if(e.hasOwnProperty(s)&&--u<0)return!1}return!0}}function a(r,e){function t(r,e){for(var t=n.length;t--;)if(n[t--]===e)return n[t]===r;return n.push(r,e),null}var n=[];return(a=t)(r,e)}return r===e&&0!==r||o(r,e)}},auxiliaryFunctions:{BiggerThan:function(r){return function(e){return e>r}},SmallerThan:function(r){return function(e){return r>e}},EqualTo3:function(r){return function(e){return e===r}},EqualTo2:function(r){return function(e){return e==r}},In:function(r){return function(e){return-1!==r.indexOf(e)}},NotIn:function(r){return function(e){return-1===r.indexOf(e)}},EqualTo:function(r,e){return function(t){return e?e(t,r):pa.paWhereHelper.equals(r,t)}},Like:function(r){return r.paIsArray?function(e){for(var t=r.length;t--;)if(-1===e.indexOf(r[t]))return!1;return!0}:function(e){return e.indexOf(r)>-1}},NotLike:function(r){return r.paIsArray?function(e){for(var t=r.length;t--;)if(e.indexOf(r[t])>-1)return!1;return!0}:function(e){return-1===e.indexOf(r)}},LikeIgnoreCase:function(r){var e="";return r.paIsArray?function(t){for(var n=r.length;n--;)if(e=r[n].toUpperCase(),-1===t.toUpperCase().indexOf(e))return!1;return!0}:(e=r.toUpperCase(),function(r){return r.toUpperCase().indexOf(e)>-1})},NotLikeIgnoreCase:function(r){var e="";return r.paIsArray?function(t){for(var n=r.length;n--;)if(e=r[n].toUpperCase(),t.toUpperCase().indexOf(e)>-1)return!1;return!0}:(e=r.toUpperCase(),function(r){return-1===r.toUpperCase().indexOf(e)})}}},Array.prototype.RunEachParalell||(Array.prototype.RunEachParalell=function(r,e,t){if(!self.Worker)return this.RunEach(r,this,t);var n,o=this,a="RunEachParalell_"+Math.floor(1e9*Math.random()+1);window.pa.paEachParalellsHelper.currentParalellIds[a]={CompletedTasks:0,TotalProcesses:e};for(var i=parseInt(this.length/e),u=e;e--;)n=u-e*i,setTimeout(function(){o.slice(n,n+i).RunInWorker(r,function(){window.pa.paEachParalellsHelper.currentParalellIds[a].CompletedTasks++,window.pa.paEachParalellsHelper.CheckParalellTaskStates(a)&&t&&t()})},0)}),Array.prototype.paIsArray||(Array.prototype.paIsArray=!0),Array.prototype.Where||(Array.prototype.Sort=function(r){var e=[];if(!r&&r.hasOwnProperty("length"))throw new Error("Invalid sortConditions object");for(var t in r)if(r.hasOwnProperty(t)){var n=r[t].toUpperCase();switch(n){case"ASC":case"DESC":break;default:throw new Error("PowerArray Configuration Error => Invalid sort direction for property "+t+": '"+r[t]+"', it should be ASC or DESC")}e.push({column:t,sortDirection:n})}return this.sort(function(r,t){for(var n,o,a=0,i=0,u=e.length;u>i;i++)switch(o=10-i,n=e[i].column,e[i].sortDirection){case"ASC":r[n]<t[n]?a-=o:r[n]>t[n]&&(a+=o);break;case"DESC":r[n]<t[n]?a+=o:r[n]>t[n]&&(a-=o)}return a})}),Array.prototype.Where||(Array.prototype.Where=function(r,e){var t,n,o=this.length,a=[];if("object"!=typeof r||r.paIsArray)if(r.paIsArray)a.push.apply(a,pa.paWhereHelper.ProcessConditionObject.call(this,r,e,!0));else if(e)for(t=0;o>t;t++)n=this[t],r(n)&&a.push(n);else for(;o--;)n=this[o],r(n)&&a.push(n);else a=pa.paWhereHelper.ProcessConditionObject.call(this,r,e,!1);return a}),function(){var r=window.pa.auxiliaryFunctions;for(var e in r)r.hasOwnProperty(e)&&(window.pa[e]=r[e],window[e]?console.warn("property window."+e+" already exists. PowerArrayFunction pa."+e+' cannot register this function on window scope. However, you can still using it by calling "pa.'+e+'"'):window[e]=r[e])}();
